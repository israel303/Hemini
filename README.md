# Telegram Group Moderator Bot

בוט טלגרם למודרציה של קבוצות עם שתי פונקציות עיקריות:
1. מחיקה אוטומטית של הודעות הצטרפות ויציאה מהקבוצה
2. חסימת משתמשים על בסיס מילות מפתח הגדירות בקובץ

## תכונות

- **מחיקת הודעות מערכת**: מוחק אוטומטית הודעות "הצטרף לקבוצה" ו"עזב את הקבוצה"
- **סינון מילות מפתח**: חוסם משתמשים ששולחים הודעות המכילות מילות מפתח חסומות
- **עדכון דינמי**: טוען מחדש את רשימת המילות החסומות כל 5 דקות
- **תמיכה ב-Render**: מותאם להעלאה ל-Render עם webhook
- **לוגים מפורטים**: מתעד את כל הפעילויות למעקב

## התקנה ב-Render

### 1. יצירת בוט טלגרם
1. פתח צ'אט עם [@BotFather](https://t.me/botfather) בטלגרם
2. שלח `/newbot` וצור בוט חדש
3. שמור את ה-token שתקבל

### 2. הכנת הבוט לקבוצה
1. הוסף את הבוט לקבוצה
2. הפוך אותו למנהל עם ההרשאות הבאות:
   - Delete messages
   - Ban users
   - Add new admins (אופציונלי)

### 3. העלאה ל-Render
1. צור repository חדש ב-GitHub
2. העלה את כל הקבצים לrepository
3. התחבר ל-[Render](https://render.com)
4. צור Web Service חדש וחבר אותו ל-repository
5. הגדר את משתני הסביבה:
   - `BOT_TOKEN`: ה-token של הבוט מ-BotFather
   - `RENDER_EXTERNAL_URL`: כתובת האפליקציה ב-Render (לדוגמה: `your-app-name.onrender.com`)

## הגדרת מילות מפתח חסומות

ערוך את הקובץ `blocked_keywords.txt` ב-repository:

```txt
# הוסף מילות מפתח חסומות, כל מילה בשורה נפרדת
spam
advertisement
hate
offensive_word
```

**חשוב**: הבוט טוען מחדש את הקובץ כל 5 דקות, אז שינויים ב-GitHub יופיעו אוטומטית.

## מבנה הקבצים

```
telegram-bot/
├── main.py                 # הקוד הראשי של הבוט
├── requirements.txt        # תלויות Python
├── blocked_keywords.txt    # רשימת מילות מפתח חסומות
├── render.yaml            # הגדרות Render
└── README.md              # המדריך הזה
```

## איך זה עובד

1. **הודעות הצטרפות**: הבוט מזהה הודעות מסוג `new_chat_members` ו-`left_chat_member` ומוחק אותן מיד
2. **סינון תוכן**: הבוט בודק כל הודעה מול רשימת המילים החסומות
3. **חסימה**: כאשר נמצאת מילה חסומה, הבוט מוחק את ההודעה וחוסם את המשתמש
4. **התראה**: שולח הודעת התראה קצרה למנהלים שנמחקת לאחר 10 שניות

## לוגים

הבוט מתעד את כל הפעילויות:
- מחיקת הודעות הצטרפות/יציאה
- זיהוי מילות מפתח חסומות
- חסימת משתמשים
- שגיאות והתראות

## תחזוקה

- עדכון מילות מפתח: ערוך את `blocked_keywords.txt` ב-GitHub
- מעקב אחר פעילות: בדוק את הלוגים ב-Render Dashboard
- עדכון הבוט: push שינויים ל-repository וה-deployment יתבצע אוטומטית

## הערות חשובות

- הבוט חייב להיות מנהל בקבוצה עם הרשאות מחיקה וחסימה
- מילות מפתח לא רגישות לאותיות גדולות/קטנות
- הבוט עובד רק בקבוצות ולא בצ'אטים פרטיים
- עדכוני הקובץ מ-GitHub יופיעו תוך 5 דקות מקסימום